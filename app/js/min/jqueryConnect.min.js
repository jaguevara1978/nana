!function(t){t.connect=function(o,e,r){var n={container:".lines-wrapper",leftLabel:"",rightLabel:""},s=this;if(this.elem1=this.elem1||t(o),this.elem2=this.elem2||t(e),0===o.length||0===e.length)throw"Cannot get instance of Element 1 or Element 2";var c={},i={},a={};this.options=t.extend(n,r||{});var l=function(){var o=t(s.options.container),e=t('<div class="connector"><p class="left title"></p><p class="right title"></p></div>');"undefined"==typeof s.Connector&&(s.Connector=e.appendTo(o),s.Connector.css({position:"absolute",width:"100px","border-bottom":"2px solid #F54F36"}),s.Connector.find("p").css({display:"inline-block","margin-bottom":"-3px"}),s.Connector.find(".left").css({"float":"left",padding:"0 10px"}),s.Connector.find(".right").css({"float":"right",padding:"0 10px"}),s.setLabels(s.options));var r=-20;c.coords.tc[0]>i.coords.tc[0]?s.Connector.find(".title").css({"-webkit-transform":"rotate(180deg)","-ms-transform":"rotate(180deg)",transform:"rotate(180deg)"}):s.Connector.find(".title").css({"-webkit-transform":"rotate(0deg)","-ms-transform":"rotate(0deg)",transform:"rotate(0deg)"}),s.Connector.css({top:a.sc[1]+r+"px",left:a.sc[0]+"px",width:a.width+"px","-webkit-transform":"rotate("+a.angleA+"deg)","-webkit-transform-origin":"0% 100%","-ms-transform":"rotate("+a.angleA+"deg)","-ms-transform-origin":"0% 100%",transform:"rotate("+a.angleA+"deg)","transform-origin":"0% 100%"})};this.setLabels=function(o){var e={leftLabel:"Left",rightLabel:"Right"},r=t.extend(e,o);return t(s.Connector).find(".title").each(function(o,e){var n=t(e);n.hasClass("left")?n.html(r.leftLabel):n.html(r.rightLabel)}),s};var d=function(t,o,e){function r(t){return t.position().left}function n(t){return t.position().top}var s=r(t),c=s+o/2,i=n(t),a=i+e/2,l={tl:[s,i],tr:[s+o,i],tc:[c,i],rm:[s+o,a],bc:[c,i+e],lm:[s,a]};return l};return this.calculate=function(){var t=s.elem1,o=s.elem2;return c.width=t.width(),c.height=t.height(),c.coords=d(t,c.width,c.height),i.width=o.width(),i.height=o.height(),i.coords=d(o,i.width,i.height),a.sc=c.coords.rm,a.ec=i.coords.lm,i.coords.tl[0]-c.coords.tl[0]<=90&&i.coords.tl[0]-c.coords.tl[0]>=-90?i.coords.tc[1]<=c.coords.tc[1]?(a.sc=c.coords.tc,a.ec=i.coords.bc):(a.sc=c.coords.bc,a.ec=i.coords.tc):i.coords.tc[0]<=c.coords.tc[0]&&(a.sc=c.coords.lm,a.ec=i.coords.rm),a.angleA=180*Math.atan((a.sc[1]-a.ec[1])/(a.sc[0]-a.ec[0]))/Math.PI,i.coords.tc[0]<=c.coords.tc[0]&&(a.angleA-=180),a.width=Math.sqrt(Math.pow(a.ec[0]-a.sc[0],2)+Math.pow(a.ec[1]-a.sc[1],2)),l(),s},this.calculate(),this}}(jQuery);